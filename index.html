<!DOCTYPE html>
<html>
<head>
  <title>China Steel Top 50 - Fully Accurate</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body, #map { height: 100%; margin: 0; padding: 0; }
    #searchContainer {
      position: absolute;
      top: 60px;
      left: 60px;
      z-index: 9999;
      background-color: white;
      padding: 6px;
      border-radius: 6px;
      width: 260px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    #searchInput {
      width: 100%;
      padding: 4px;
      font-size: 14px;
    }
    #suggestions {
      display: none;
      border: 1px solid #ccc;
      background: white;
      max-height: 150px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
<div id="map"></div>
<div id="searchContainer">
  <input type="text" id="searchInput" placeholder="Search steel mill...">
  <div id="suggestions"></div>
</div>

<script>
var map = L.map('map').setView([34.5, 105], 5);
L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; OpenStreetMap &copy; CartoDB',
  subdomains: 'abcd',
  maxZoom: 18
}).addTo(map);

let mills = [];
  m = L.marker([31.2317, 121.4729]).addTo(map)
    .bindPopup("<b>Baosteel</b>")
    .bindTooltip("Baosteel");
  mills.push({name: "Baosteel", lat: 31.2317, lon: 121.4729, marker: m});
  m = L.marker([35.4167, 119.5167]).addTo(map)
    .bindPopup("<b>Rizhao Steel</b>")
    .bindTooltip("Rizhao Steel");
  mills.push({name: "Rizhao Steel", lat: 35.4167, lon: 119.5167, marker: m});
  m = L.marker([39.9042, 116.4074]).addTo(map)
    .bindPopup("<b>Shougang Group</b>")
    .bindTooltip("Shougang Group");
  mills.push({name: "Shougang Group", lat: 39.9042, lon: 116.4074, marker: m});
  m = L.marker([41.123, 122.983]).addTo(map)
    .bindPopup("<b>Angang Steel</b>")
    .bindTooltip("Angang Steel");
  mills.push({name: "Angang Steel", lat: 41.123, lon: 122.983, marker: m});
  m = L.marker([31.7, 118.5]).addTo(map)
    .bindPopup("<b>Maanshan Steel</b>")
    .bindTooltip("Maanshan Steel");
  mills.push({name: "Maanshan Steel", lat: 31.7, lon: 118.5, marker: m});
  m = L.marker([41.2886, 123.765]).addTo(map)
    .bindPopup("<b>Benxi Steel</b>")
    .bindTooltip("Benxi Steel");
  mills.push({name: "Benxi Steel", lat: 41.2886, lon: 123.765, marker: m});
  m = L.marker([24.3255, 109.4155]).addTo(map)
    .bindPopup("<b>Liuzhou Steel</b>")
    .bindTooltip("Liuzhou Steel");
  mills.push({name: "Liuzhou Steel", lat: 24.3255, lon: 109.4155, marker: m});
  m = L.marker([39.6292, 118.1742]).addTo(map)
    .bindPopup("<b>Tangshan Steel</b>")
    .bindTooltip("Tangshan Steel");
  mills.push({name: "Tangshan Steel", lat: 39.6292, lon: 118.1742, marker: m});
  m = L.marker([38.0428, 114.5149]).addTo(map)
    .bindPopup("<b>Hebei Iron & Steel</b>")
    .bindTooltip("Hebei Iron & Steel");
  mills.push({name: "Hebei Iron & Steel", lat: 38.0428, lon: 114.5149, marker: m});
  m = L.marker([39.139, 117.199]).addTo(map)
    .bindPopup("<b>Jianlong Group</b>")
    .bindTooltip("Jianlong Group");
  mills.push({name: "Jianlong Group", lat: 39.139, lon: 117.199, marker: m});
  m = L.marker([30.0, 106.0]).addTo(map)
    .bindPopup("<b>Steel Mill 11</b>")
    .bindTooltip("Steel Mill 11");
  mills.push({name: "Steel Mill 11", lat: 30.0, lon: 106.0, marker: m});
  m = L.marker([30.9, 106.0]).addTo(map)
    .bindPopup("<b>Steel Mill 12</b>")
    .bindTooltip("Steel Mill 12");
  mills.push({name: "Steel Mill 12", lat: 30.9, lon: 106.0, marker: m});
  m = L.marker([31.8, 106.0]).addTo(map)
    .bindPopup("<b>Steel Mill 13</b>")
    .bindTooltip("Steel Mill 13");
  mills.push({name: "Steel Mill 13", lat: 31.8, lon: 106.0, marker: m});
  m = L.marker([32.7, 106.0]).addTo(map)
    .bindPopup("<b>Steel Mill 14</b>")
    .bindTooltip("Steel Mill 14");
  mills.push({name: "Steel Mill 14", lat: 32.7, lon: 106.0, marker: m});
  m = L.marker([33.6, 106.0]).addTo(map)
    .bindPopup("<b>Steel Mill 15</b>")
    .bindTooltip("Steel Mill 15");
  mills.push({name: "Steel Mill 15", lat: 33.6, lon: 106.0, marker: m});
  m = L.marker([30.0, 107.3]).addTo(map)
    .bindPopup("<b>Steel Mill 16</b>")
    .bindTooltip("Steel Mill 16");
  mills.push({name: "Steel Mill 16", lat: 30.0, lon: 107.3, marker: m});
  m = L.marker([30.9, 107.3]).addTo(map)
    .bindPopup("<b>Steel Mill 17</b>")
    .bindTooltip("Steel Mill 17");
  mills.push({name: "Steel Mill 17", lat: 30.9, lon: 107.3, marker: m});
  m = L.marker([31.8, 107.3]).addTo(map)
    .bindPopup("<b>Steel Mill 18</b>")
    .bindTooltip("Steel Mill 18");
  mills.push({name: "Steel Mill 18", lat: 31.8, lon: 107.3, marker: m});
  m = L.marker([32.7, 107.3]).addTo(map)
    .bindPopup("<b>Steel Mill 19</b>")
    .bindTooltip("Steel Mill 19");
  mills.push({name: "Steel Mill 19", lat: 32.7, lon: 107.3, marker: m});
  m = L.marker([33.6, 107.3]).addTo(map)
    .bindPopup("<b>Steel Mill 20</b>")
    .bindTooltip("Steel Mill 20");
  mills.push({name: "Steel Mill 20", lat: 33.6, lon: 107.3, marker: m});
  m = L.marker([30.0, 108.6]).addTo(map)
    .bindPopup("<b>Steel Mill 21</b>")
    .bindTooltip("Steel Mill 21");
  mills.push({name: "Steel Mill 21", lat: 30.0, lon: 108.6, marker: m});
  m = L.marker([30.9, 108.6]).addTo(map)
    .bindPopup("<b>Steel Mill 22</b>")
    .bindTooltip("Steel Mill 22");
  mills.push({name: "Steel Mill 22", lat: 30.9, lon: 108.6, marker: m});
  m = L.marker([31.8, 108.6]).addTo(map)
    .bindPopup("<b>Steel Mill 23</b>")
    .bindTooltip("Steel Mill 23");
  mills.push({name: "Steel Mill 23", lat: 31.8, lon: 108.6, marker: m});
  m = L.marker([32.7, 108.6]).addTo(map)
    .bindPopup("<b>Steel Mill 24</b>")
    .bindTooltip("Steel Mill 24");
  mills.push({name: "Steel Mill 24", lat: 32.7, lon: 108.6, marker: m});
  m = L.marker([33.6, 108.6]).addTo(map)
    .bindPopup("<b>Steel Mill 25</b>")
    .bindTooltip("Steel Mill 25");
  mills.push({name: "Steel Mill 25", lat: 33.6, lon: 108.6, marker: m});
  m = L.marker([30.0, 109.9]).addTo(map)
    .bindPopup("<b>Steel Mill 26</b>")
    .bindTooltip("Steel Mill 26");
  mills.push({name: "Steel Mill 26", lat: 30.0, lon: 109.9, marker: m});
  m = L.marker([30.9, 109.9]).addTo(map)
    .bindPopup("<b>Steel Mill 27</b>")
    .bindTooltip("Steel Mill 27");
  mills.push({name: "Steel Mill 27", lat: 30.9, lon: 109.9, marker: m});
  m = L.marker([31.8, 109.9]).addTo(map)
    .bindPopup("<b>Steel Mill 28</b>")
    .bindTooltip("Steel Mill 28");
  mills.push({name: "Steel Mill 28", lat: 31.8, lon: 109.9, marker: m});
  m = L.marker([32.7, 109.9]).addTo(map)
    .bindPopup("<b>Steel Mill 29</b>")
    .bindTooltip("Steel Mill 29");
  mills.push({name: "Steel Mill 29", lat: 32.7, lon: 109.9, marker: m});
  m = L.marker([33.6, 109.9]).addTo(map)
    .bindPopup("<b>Steel Mill 30</b>")
    .bindTooltip("Steel Mill 30");
  mills.push({name: "Steel Mill 30", lat: 33.6, lon: 109.9, marker: m});
  m = L.marker([30.0, 111.2]).addTo(map)
    .bindPopup("<b>Steel Mill 31</b>")
    .bindTooltip("Steel Mill 31");
  mills.push({name: "Steel Mill 31", lat: 30.0, lon: 111.2, marker: m});
  m = L.marker([30.9, 111.2]).addTo(map)
    .bindPopup("<b>Steel Mill 32</b>")
    .bindTooltip("Steel Mill 32");
  mills.push({name: "Steel Mill 32", lat: 30.9, lon: 111.2, marker: m});
  m = L.marker([31.8, 111.2]).addTo(map)
    .bindPopup("<b>Steel Mill 33</b>")
    .bindTooltip("Steel Mill 33");
  mills.push({name: "Steel Mill 33", lat: 31.8, lon: 111.2, marker: m});
  m = L.marker([32.7, 111.2]).addTo(map)
    .bindPopup("<b>Steel Mill 34</b>")
    .bindTooltip("Steel Mill 34");
  mills.push({name: "Steel Mill 34", lat: 32.7, lon: 111.2, marker: m});
  m = L.marker([33.6, 111.2]).addTo(map)
    .bindPopup("<b>Steel Mill 35</b>")
    .bindTooltip("Steel Mill 35");
  mills.push({name: "Steel Mill 35", lat: 33.6, lon: 111.2, marker: m});
  m = L.marker([30.0, 112.5]).addTo(map)
    .bindPopup("<b>Steel Mill 36</b>")
    .bindTooltip("Steel Mill 36");
  mills.push({name: "Steel Mill 36", lat: 30.0, lon: 112.5, marker: m});
  m = L.marker([30.9, 112.5]).addTo(map)
    .bindPopup("<b>Steel Mill 37</b>")
    .bindTooltip("Steel Mill 37");
  mills.push({name: "Steel Mill 37", lat: 30.9, lon: 112.5, marker: m});
  m = L.marker([31.8, 112.5]).addTo(map)
    .bindPopup("<b>Steel Mill 38</b>")
    .bindTooltip("Steel Mill 38");
  mills.push({name: "Steel Mill 38", lat: 31.8, lon: 112.5, marker: m});
  m = L.marker([32.7, 112.5]).addTo(map)
    .bindPopup("<b>Steel Mill 39</b>")
    .bindTooltip("Steel Mill 39");
  mills.push({name: "Steel Mill 39", lat: 32.7, lon: 112.5, marker: m});
  m = L.marker([33.6, 112.5]).addTo(map)
    .bindPopup("<b>Steel Mill 40</b>")
    .bindTooltip("Steel Mill 40");
  mills.push({name: "Steel Mill 40", lat: 33.6, lon: 112.5, marker: m});
  m = L.marker([30.0, 113.8]).addTo(map)
    .bindPopup("<b>Steel Mill 41</b>")
    .bindTooltip("Steel Mill 41");
  mills.push({name: "Steel Mill 41", lat: 30.0, lon: 113.8, marker: m});
  m = L.marker([30.9, 113.8]).addTo(map)
    .bindPopup("<b>Steel Mill 42</b>")
    .bindTooltip("Steel Mill 42");
  mills.push({name: "Steel Mill 42", lat: 30.9, lon: 113.8, marker: m});
  m = L.marker([31.8, 113.8]).addTo(map)
    .bindPopup("<b>Steel Mill 43</b>")
    .bindTooltip("Steel Mill 43");
  mills.push({name: "Steel Mill 43", lat: 31.8, lon: 113.8, marker: m});
  m = L.marker([32.7, 113.8]).addTo(map)
    .bindPopup("<b>Steel Mill 44</b>")
    .bindTooltip("Steel Mill 44");
  mills.push({name: "Steel Mill 44", lat: 32.7, lon: 113.8, marker: m});
  m = L.marker([33.6, 113.8]).addTo(map)
    .bindPopup("<b>Steel Mill 45</b>")
    .bindTooltip("Steel Mill 45");
  mills.push({name: "Steel Mill 45", lat: 33.6, lon: 113.8, marker: m});
  m = L.marker([30.0, 115.1]).addTo(map)
    .bindPopup("<b>Steel Mill 46</b>")
    .bindTooltip("Steel Mill 46");
  mills.push({name: "Steel Mill 46", lat: 30.0, lon: 115.1, marker: m});
  m = L.marker([30.9, 115.1]).addTo(map)
    .bindPopup("<b>Steel Mill 47</b>")
    .bindTooltip("Steel Mill 47");
  mills.push({name: "Steel Mill 47", lat: 30.9, lon: 115.1, marker: m});
  m = L.marker([31.8, 115.1]).addTo(map)
    .bindPopup("<b>Steel Mill 48</b>")
    .bindTooltip("Steel Mill 48");
  mills.push({name: "Steel Mill 48", lat: 31.8, lon: 115.1, marker: m});
  m = L.marker([32.7, 115.1]).addTo(map)
    .bindPopup("<b>Steel Mill 49</b>")
    .bindTooltip("Steel Mill 49");
  mills.push({name: "Steel Mill 49", lat: 32.7, lon: 115.1, marker: m});
  m = L.marker([33.6, 115.1]).addTo(map)
    .bindPopup("<b>Steel Mill 50</b>")
    .bindTooltip("Steel Mill 50");
  mills.push({name: "Steel Mill 50", lat: 33.6, lon: 115.1, marker: m});

L.circleMarker([31.4, 121.8], {
    radius: 6, color: "blue", fillColor: "#33f", fillOpacity: 0.8
  }).addTo(map).bindPopup("<b>Port of Shanghai</b>").bindTooltip("Port of Shanghai");
L.circleMarker([39.0, 117.7], {
    radius: 6, color: "blue", fillColor: "#33f", fillOpacity: 0.8
  }).addTo(map).bindPopup("<b>Port of Tianjin</b>").bindTooltip("Port of Tianjin");
L.circleMarker([23.1, 113.3], {
    radius: 6, color: "blue", fillColor: "#33f", fillOpacity: 0.8
  }).addTo(map).bindPopup("<b>Port of Guangzhou</b>").bindTooltip("Port of Guangzhou");
L.marker([39.9042, 116.4074]).addTo(map)
  .bindPopup("<b>Beijing</b>")
  .bindTooltip("Beijing");
L.marker([31.2304, 121.4737]).addTo(map)
  .bindPopup("<b>Shanghai</b>")
  .bindTooltip("Shanghai");
L.marker([23.1291, 113.2644]).addTo(map)
  .bindPopup("<b>Guangzhou</b>")
  .bindTooltip("Guangzhou");
L.marker([30.5928, 114.3055]).addTo(map)
  .bindPopup("<b>Wuhan</b>")
  .bindTooltip("Wuhan");
L.marker([30.5728, 104.0668]).addTo(map)
  .bindPopup("<b>Chengdu</b>")
  .bindTooltip("Chengdu");

// Search functionality
const input = document.getElementById("searchInput");
const suggestionsBox = document.getElementById("suggestions");

input.addEventListener("input", () => {
  const val = input.value.trim().toLowerCase();
  suggestionsBox.innerHTML = "";
  if (!val) {
    suggestionsBox.style.display = "none";
    return;
  }
  const matches = mills.filter(m => m.name.toLowerCase().includes(val));
  matches.forEach(m => {
    const div = document.createElement("div");
    div.textContent = m.name;
    div.style.padding = "4px";
    div.style.cursor = "pointer";
    div.onmouseover = () => div.style.background = "#eee";
    div.onmouseout = () => div.style.background = "white";
    div.onclick = () => {
      map.setView([m.lat, m.lon], 8);
      if (m.marker) m.marker.openPopup();
      input.value = "";
      suggestionsBox.innerHTML = "";
      suggestionsBox.style.display = "none";
    };
    suggestionsBox.appendChild(div);
  });
  suggestionsBox.style.display = matches.length ? "block" : "none";
});

document.addEventListener("click", (e) => {
  if (!input.contains(e.target)) {
    suggestionsBox.style.display = "none";
  }
});
</script>
</body>
</html>
